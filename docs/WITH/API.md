# WITH API

## 윗을 작성합니다.

### 제한 사항

- 윗은 수정할 수 없다.

### 기본 정보

| Method | URL               | 인증방식   |
|--------|-------------------|--------|
| POST   | /api/v1/its/withs | 액세스 토큰 |

### 요청

#### 헤더

| 이름            | 설명                                                               | 필수 |
|---------------|------------------------------------------------------------------|----|
| Authorization | Authorization: Bearer ${ACCESS_TOKEN} 인증 방식, <br> 액세스 토큰으로 인증 요청 | O  |

#### 본문

| 이름      | 타입     | 설명         | 필수 |
|---------|--------|------------|----|
| it      | Long   | 참여 중인 잇 Id | O  |
| content | String | 윗 내용       | O  |

#### 예외

| 상황                                         | http_code | code                  | message                |
|--------------------------------------------|-----------|-----------------------|------------------------|
| 잇 Id는 음수일 수 없다.                            | 400       | request.id.invalid    | 잘못된 요청입니다.             |
| 멤버 Id는 음수일 수 없다.                           | 400       | request.id.invalid    | 잘못된 요청입니다.             |
| 윗의 내용은 공백 포함 20자를 넘어갈 수 없다.                | 400       | request.title.invalid | 잘못된 요청입니다.             |
| 윗의 내용은 공백 일 수 없다.                          | 400       | request.title.invalid | 잘못된 요청입니다.             |
| 참여 중인 잇에 대한 윗은 일별로 하나 이상 작성할 수 없다.         | 400       | request.invalid       | 잘못된 요청입니다.             |
| 참여 중인 잇의 시작 시간 이전과 종료 시간 이후에는 윗을 작성할 수 없다. | 400       | request.invalid       | 요청 권한이 없어요.            |
| 참여 중인 잇의 시작 시간 이전과 종료 시간 이후에는 윗을 삭제할 수 없다. | 400       | request.invalid       | 요청 권한이 없어요.            |
| 참여 중이지 않은 잇에 대한 윗은 작성할 수 없다.               | 403       | access.denied         | 접근 권한이 없어요.            |
| 타인의 잇 접근하는 경우                              | 403       | access.denied         | 접근 권한이 없어요.            |
| 이미 삭제된 윗인 경우                               | 404       | resource.deleted      | 요청에 대한 응답을 찾을 수 없어요.   |
| 잇이 등록되어 있지 않은 경우                           | 404       | resource.notfound     | 요청과 일치하는 결과를 찾을 수 없어요. |
| 잇 Id는 존재하는 Id이어야 한다.                       | 404       | resource.notFound     | 요청과 일치하는 결과를 찾을 수 없어요. |
| 멤버 Id는 존재하는 Id이어야 한다.                      | 404       | resource.notFound     | 요청과 일치하는 결과를 찾을 수 없어요. |

### 응답

#### 본문

| 이름      | 타입     | 설명               | 필수 |
|---------|--------|------------------|----|
| code    | String | resource.created | O  |
| message | String | 새로 생성되었습니다       | O  |

## 윗을 삭제합니다.

### 기본 정보

| Method | URL               | 인증방식   |
|--------|-------------------|--------|
| DELETE | /api/v1/its/withs | 액세스 토큰 |

### 요청

#### 헤더

| 이름            | 설명                                                               | 필수 |
|---------------|------------------------------------------------------------------|----|
| Authorization | Authorization: Bearer ${ACCESS_TOKEN} 인증 방식, <br> 액세스 토큰으로 인증 요청 | O  |

#### 본문

| 이름   | 타입   | 설명         | 필수 |
|------|------|------------|----|
| with | Long | 삭제하려는 윗 Id | O  |

### 응답

#### 본문

| 이름      | 타입     | 설명      | 필수 |
|---------|--------|---------|----|
| code    | String | success | O  |
| message | String | 성공      | O  |

## 윗 목록을 조회합니다.

### 제한 사항

- 윗 조회는 잇 시작 시간을 기준으로 초기화된다.
- 윗 기본 조회 결과의 갯수는 10개이다.
- 윗 기본 조회 결과는 랜덤하게 제공된다.

### 기본 정보

| Method | URL                     | 인증방식   |
|--------|-------------------------|--------|
| GET    | /api/v1/its/withs?id&my | 액세스 토큰 |

### 요청

#### 헤더

| 이름            | 설명                                                               | 필수 |
|---------------|------------------------------------------------------------------|----|
| Authorization | Authorization: Bearer ${ACCESS_TOKEN} 인증 방식, <br> 액세스 토큰으로 인증 요청 | O  |

#### 쿼리 파라미터

| 이름 | 타입      | 설명                              | 필수 |
|----|---------|---------------------------------|----|
| id | Long    | 참여 중인 잇 Id                      | O  |
| my | Boolean | 특정 멤버의 윗 조회 필터링 여부, 기본 값은 false | X  |

### 예외

| 상황                    | http_code | code               | message                |
|-----------------------|-----------|--------------------|------------------------|
| 잇 Id는 음수일 수 없다.       | 400       | request.id.invalid | 잘못된 요청입니다.             |
| 타인의 잇 접근하는 경우         | 403       | access.denied      | 접근 권한이 없어요.            |
| 잇 Id는 존재하는 Id이어야 한다.  | 404       | resource.notFound  | 요청과 일치하는 결과를 찾을 수 없어요. |

### 응답

#### 본문

| 이름        | 타입         | 설명      | 필수 |
|-----------|------------|---------|----|
| code      | String     | success | O  |
| message   | String     | 성공      | O  |
| withInfos | withInfo[] | 윗 정보    | O  |

##### withInfo

| 이름             | 타입             | 설명           | 필수 |
|----------------|----------------|--------------|----|
| id             | Long           | 윗 Id         | O  |
| content        | String         | 윗 내용         | O  |
| hit            | Long           | 윗의 힛 수       | O  |
| withMemberInfo | withMemberInfo | 윗을 작성한 멤버 정보 | O  |

##### withMemberInfo

| 이름         | 타입     | 설명                | 필수 |
|------------|--------|-------------------|----|
| profile    | String | 멤버 프로필            | O  |
| name       | String | 멤버 이름             | O  |
| resolution | String | 멤버의 참여 중 잇에 대한 다짐 | O  |
